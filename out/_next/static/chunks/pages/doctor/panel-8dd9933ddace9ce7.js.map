{"version":3,"file":"static/chunks/pages/doctor/panel-8dd9933ddace9ce7.js","mappings":"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","sources":["webpack://_N_E/?7cca","webpack://_N_E/./src/components/common/DoctorRoute.tsx","webpack://_N_E/./src/components/doctor/AppointmentCalendar.tsx","webpack://_N_E/./src/components/doctor/DoctorPanel.tsx","webpack://_N_E/./src/pages/doctor/panel.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/doctor/panel\",\n      function () {\n        return require(\"private-next-pages/doctor/panel.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/doctor/panel\"])\n      });\n    }\n  ","'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport { fetchAuthSession } from 'aws-amplify/auth';\nimport { ProtectedRoute } from '@/components/common/ProtectedRoute';\n\ninterface DoctorRouteProps {\n  children: React.ReactNode;\n}\n\nexport const DoctorRoute: React.FC<DoctorRouteProps> = ({ children }) => {\n  const router = useRouter();\n  const { t } = useLanguage();\n  const [checkingGroup, setCheckingGroup] = useState(true);\n\n  useEffect(() => {\n    const check = async () => {\n      try {\n        const session = await fetchAuthSession();\n        const idPayload = session.tokens?.idToken?.payload as Record<string, unknown> | undefined;\n        const groups = (idPayload?.['cognito:groups'] as string[] | undefined) || [];\n        if (!groups.includes('doctor')) {\n          router.replace('/user/profile');\n          return;\n        }\n      } finally {\n        setCheckingGroup(false);\n      }\n    };\n    check();\n  }, [router]);\n\n  return (\n    <ProtectedRoute>\n      {checkingGroup ? (\n        <div className=\"min-h-screen flex items-center justify-center bg-background-secondary\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n            <p className=\"text-body\">{t('common.loading')}</p>\n          </div>\n        </div>\n      ) : (\n        <>{children}</>\n      )}\n    </ProtectedRoute>\n  );\n};\n\n","import React, { useState } from 'react';\nimport { Case } from '@/types';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport CaseList from '@/components/case/case-list';\n\ninterface AppointmentCalendarProps {\n  cases: Case[];\n  onCaseClick?: (caseId: string) => void;\n}\n\nexport const AppointmentCalendar: React.FC<AppointmentCalendarProps> = ({\n  cases,\n  onCaseClick,\n}) => {\n  const { language, t } = useLanguage();\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  // Initialize with today's date (normalized to midnight for proper date comparison)\n  const getToday = () => {\n    const today = new Date();\n    return new Date(today.getFullYear(), today.getMonth(), today.getDate());\n  };\n  const [selectedDate, setSelectedDate] = useState<Date | null>(getToday());\n\n  // Get all dates that have appointments (only accepted appointments)\n  const getDatesWithAppointments = (): Date[] => {\n    const dates = new Set<string>();\n    cases.forEach((caseData) => {\n      caseData.appointments?.forEach((appointment) => {\n        // Only show accepted appointments on the calendar\n        if (appointment.scheduledStart && appointment.meetingStatus === 'accepted') {\n          const date = new Date(appointment.scheduledStart);\n          dates.add(date.toDateString());\n        }\n      });\n    });\n    return Array.from(dates).map(dateStr => new Date(dateStr));\n  };\n\n  const datesWithAppointments = getDatesWithAppointments();\n\n  // Check if a date has appointments\n  const hasAppointments = (date: Date): boolean => {\n    return datesWithAppointments.some(d =>\n      d.toDateString() === date.toDateString()\n    );\n  };\n\n  // Get cases for a specific date (only accepted appointments)\n  const getCasesForDate = (date: Date): Case[] => {\n    const result: Case[] = [];\n    const casesOnDate: Set<number> = new Set();\n\n    cases.forEach((caseData) => {\n      const hasAppointmentOnDate = caseData.appointments?.some((appointment) => {\n        // Only show accepted appointments\n        if (appointment.scheduledStart && appointment.meetingStatus === 'accepted') {\n          const appointmentDate = new Date(appointment.scheduledStart);\n          return appointmentDate.toDateString() === date.toDateString();\n        }\n        return false;\n      });\n\n      if (hasAppointmentOnDate && caseData.id && !casesOnDate.has(caseData.id)) {\n        casesOnDate.add(caseData.id);\n        result.push(caseData);\n      }\n    });\n\n    return result;\n  };\n\n  // Get month year string\n  const getMonthYearString = () => {\n    return currentMonth.toLocaleDateString(language === 'ro' ? 'ro-RO' : language === 'de' ? 'de-DE' : 'en-GB', {\n      month: 'long',\n      year: 'numeric',\n    });\n  };\n\n  // Get day headers based on language (Monday to Sunday)\n  const getDayHeaders = () => {\n    const locale = language === 'ro' ? 'ro-RO' : language === 'de' ? 'de-DE' : 'en-GB';\n    const dayHeaders: string[] = [];\n    \n    // January 1, 2024 is a Monday - use this as reference\n    const baseDate = new Date(2024, 0, 1); // Monday\n    \n    for (let i = 0; i < 7; i++) {\n      const date = new Date(baseDate);\n      date.setDate(baseDate.getDate() + i); // Monday, Tuesday, ..., Sunday\n      const dayName = date.toLocaleDateString(locale, { weekday: 'short' });\n      // Use first 2 characters for better readability, especially for languages with similar first letters\n      dayHeaders.push(dayName.substring(0, 2).toUpperCase());\n    }\n    \n    return dayHeaders;\n  };\n\n  // Get first day of month\n  const getFirstDayOfMonth = () => {\n    const firstDay = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1);\n    return firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1; // Convert Sunday (0) to Monday (6)\n  };\n\n  // Get days in month\n  const getDaysInMonth = () => {\n    return new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0).getDate();\n  };\n\n  // Get days array\n  const getDaysArray = () => {\n    const days: Array<{ date: number; isCurrentMonth: boolean; dateObj: Date }> = [];\n    const firstDay = getFirstDayOfMonth();\n    const daysInMonth = getDaysInMonth();\n    const prevMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, 0);\n    const daysInPrevMonth = prevMonth.getDate();\n\n    // Add previous month's days\n    for (let i = firstDay - 1; i >= 0; i--) {\n      days.push({\n        date: daysInPrevMonth - i,\n        isCurrentMonth: false,\n        dateObj: new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, daysInPrevMonth - i),\n      });\n    }\n\n    // Add current month's days\n    for (let i = 1; i <= daysInMonth; i++) {\n      days.push({\n        date: i,\n        isCurrentMonth: true,\n        dateObj: new Date(currentMonth.getFullYear(), currentMonth.getMonth(), i),\n      });\n    }\n\n    // Add next month's days to fill the grid\n    const remaining = 42 - days.length;\n    for (let i = 1; i <= remaining; i++) {\n      days.push({\n        date: i,\n        isCurrentMonth: false,\n        dateObj: new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, i),\n      });\n    }\n\n    return days;\n  };\n\n  const isToday = (date: Date) => {\n    const today = new Date();\n    return date.toDateString() === today.toDateString();\n  };\n\n  const isSelected = (date: Date) => {\n    return selectedDate && date.toDateString() === selectedDate.toDateString();\n  };\n\n  const handleDateClick = (date: Date) => {\n    setSelectedDate(date);\n  };\n\n  const handlePrevMonth = () => {\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1));\n  };\n\n  const handleNextMonth = () => {\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1));\n  };\n\n  const selectedCases = selectedDate ? getCasesForDate(selectedDate) : [];\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\n      <div className=\"mb-4\">\n        <h2 className=\"text-lg font-semibold text-gray-800 mb-4\">{t('calendar.title') || 'Calendar'}</h2>\n\n        <div className=\"items-center gap-4 p-3 border border-gray-300 rounded-lg\">\n          {/* Month/Year Selector */}\n          <div className=\"flex items-center justify-between\">\n            <button\n              onClick={handlePrevMonth}\n              className=\"p-2 hover:bg-gray-100 rounded\"\n            >\n              &lt;\n            </button>\n            <span className=\"text-lg font-medium\">{getMonthYearString()}</span>\n            <button\n              onClick={handleNextMonth}\n              className=\"p-2 hover:bg-gray-100 rounded\"\n            >\n              &gt;\n            </button>\n          </div>\n\n          {/* Calendar Grid */}\n          <div className=\"grid grid-cols-7 gap-1\">\n            {/* Day headers */}\n            {getDayHeaders().map((day, idx) => (\n              <div key={idx} className=\"text-center text-sm font-medium text-gray-600 py-2\">\n                {day}\n              </div>\n            ))}\n\n            {/* Calendar days */}\n            {getDaysArray().map((dayInfo, idx) => {\n              const hasAppt = hasAppointments(dayInfo.dateObj);\n              const isCurrentDay = isToday(dayInfo.dateObj);\n              const isSelectedDay = isSelected(dayInfo.dateObj);\n\n              let bgColor = '';\n              let borderColor = '';\n\n              if (isSelectedDay) {\n                bgColor = 'bg-blue-200';\n                borderColor = 'border-blue-400';\n              } else if (isCurrentDay) {\n                bgColor = 'bg-gray-200';\n                borderColor = 'border-gray-400';\n              } else if (hasAppt) {\n                bgColor = 'bg-green-200';\n                borderColor = 'border-green-400';\n              }\n\n              return (\n                <button\n                  key={idx}\n                  onClick={() => handleDateClick(dayInfo.dateObj)}\n                  className={`\n                  h-10 w-full rounded-md text-sm transition-colors cursor-pointer\n                  ${dayInfo.isCurrentMonth ? 'text-gray-800' : 'text-gray-400'}\n                  ${isSelectedDay ? 'hover:bg-blue-100' : hasAppt && !isCurrentDay ? 'hover:bg-green-100' : 'hover:bg-gray-50'}\n                  ${bgColor} ${borderColor} border\n                  ${isCurrentDay || isSelectedDay || hasAppt ? 'font-semibold' : ''}\n                `}\n                >\n                  {dayInfo.date}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Legend */}\n        <div className=\"mt-4 flex flex-wrap items-center gap-4 text-sm\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 rounded border border-blue-400 bg-blue-200\"></div>\n            <span className=\"text-gray-700\">{t('calendar.legend.selected') || 'Selected Date'}</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 rounded border border-gray-400 bg-gray-200\"></div>\n            <span className=\"text-gray-700\">{t('calendar.legend.today') || 'Today'}</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 rounded border border-green-400 bg-green-200\"></div>\n            <span className=\"text-gray-700\">{t('calendar.legend.hasAppointments') || 'Has Appointments'}</span>\n          </div>\n        </div>\n\n        {/* Selected date cases */}\n        {selectedDate && (\n          <div className=\"mt-4\">\n            {selectedCases.length > 0 ? (\n              <CaseList cases={selectedCases} onCaseClick={onCaseClick} viewMode=\"arranged\"/>\n            ) : (\n              <div className=\"text-center text-gray-500 py-4\">\n                {t('calendar.noAppointments') || 'No appointments scheduled for'} {selectedDate.toLocaleDateString(language === 'ro' ? 'ro-RO' : language === 'de' ? 'de-DE' : 'en-GB', {\n                  month: 'long',\n                  day: 'numeric',\n                  year: 'numeric',\n                })}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n","import React, { useEffect, useState } from 'react';\nimport { Case } from '@/types';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport { HttpService } from '@/services/httpService';\nimport { AppointmentCalendar } from './AppointmentCalendar';\nimport CaseList from '@/components/case/case-list';\nimport { CaseDetails } from '@/components/case/case-details';\nimport Modal from '@/components/common/Modal';\n\nexport const DoctorPanel: React.FC = () => {\n  const { t } = useLanguage();\n  const httpService = HttpService.getInstance();\n  const [cases, setCases] = useState<Case[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedCase, setSelectedCase] = useState<Case | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const loadCases = React.useCallback(async () => {\n    setLoading(true);\n    const response = await httpService.getWorkInProcessCases();\n    setCases(response.cases || []);\n    setLoading(false);\n  }, [httpService]);\n\n  useEffect(() => {\n    loadCases();\n  }, [loadCases]);\n\n  // Get today's cases (only accepted appointments)\n  const getTodayCases = (): Case[] => {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const tomorrow = new Date(today);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n\n    const todayCases: Case[] = [];\n\n    cases.forEach((caseData) => {\n      const hasAppointmentToday = caseData.appointments?.some((appointment) => {\n        // Only show accepted appointments\n        if (appointment.scheduledStart && appointment.meetingStatus === 'accepted') {\n          const appointmentDate = new Date(appointment.scheduledStart);\n          return appointmentDate >= today && appointmentDate < tomorrow;\n        }\n        return false;\n      });\n\n      if (hasAppointmentToday) {\n        todayCases.push(caseData);\n      }\n    });\n\n    return todayCases;\n  };\n\n  // Get all upcoming cases sorted by date (only accepted appointments)\n  const getUpcomingCases = (): Case[] => {\n    const now = new Date();\n    \n    const upcomingCases: Case[] = [];\n\n    cases.forEach((caseData) => {\n      const hasFutureAppointment = caseData.appointments?.some((appointment) => {\n        // Only show accepted appointments\n        if (appointment.scheduledStart && appointment.meetingStatus === 'accepted') {\n          const appointmentDate = new Date(appointment.scheduledStart);\n          return appointmentDate >= now;\n        }\n        return false;\n      });\n\n      if (hasFutureAppointment) {\n        upcomingCases.push(caseData);\n      }\n    });\n\n    return upcomingCases;\n  };\n\n  const handleCaseClick = (caseId: string) => {\n    const selectedCaseData = cases.find(c => c.id?.toString() === caseId);\n    if (selectedCaseData) {\n      setSelectedCase(selectedCaseData);\n      setIsModalOpen(true);\n    }\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setSelectedCase(null);\n  };\n\n  const handleCaseUpdated = (updated: Case) => {\n    setSelectedCase(updated);\n    setCases(prev => {\n      const id = updated.id;\n      if (id == null) return prev;\n      const idx = prev.findIndex(c => String(c.id||'') === String(id));\n      if (idx === -1) return [updated, ...prev];\n      const copy = prev.slice();\n      copy[idx] = updated;\n      return copy;\n    });\n  };\n\n  const todayCases = getTodayCases();\n  const upcomingCases = getUpcomingCases();\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"text-gray-600\">{t('common.loading') || 'Loading...'}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Calendar Section */}\n      <AppointmentCalendar cases={cases} onCaseClick={handleCaseClick} />\n\n      {/* Today Section */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-800 mb-4\">Today</h2>\n        <CaseList cases={todayCases} onCaseClick={handleCaseClick} viewMode=\"arranged\"/>\n      </div>\n\n      {/* Next Meetings Section */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-800 mb-4\">Next Meetings</h2>\n        <CaseList cases={upcomingCases} onCaseClick={handleCaseClick} viewMode=\"arranged\"/>\n      </div>\n\n      {/* Case Details Modal */}\n      <Modal\n        isOpen={isModalOpen}\n        onClose={handleCloseModal}\n        title={selectedCase ? `Case ${selectedCase.id}` : ''}\n        size=\"xl\"\n      >\n        {selectedCase && <CaseDetails caseData={selectedCase} onUpdated={handleCaseUpdated} />}\n      </Modal>\n    </div>\n  );\n};\n\n","import React from 'react';\nimport { DoctorRoute } from '@/components/common/DoctorRoute';\nimport { DoctorPanel } from '@/components/doctor/DoctorPanel';\n\nconst DoctorPanelPage: React.FC = () => {\n  return (\n    <DoctorRoute>\n      <div className=\"max-w-6xl mx-auto px-4 py-8 space-y-8\">\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Upcoming Meetings</h1>\n        <DoctorPanel />\n      </div>\n    </DoctorRoute>\n  );\n};\n\nexport default DoctorPanelPage;\n\n"],"names":["DoctorRoute","children","router","useRouter","t","useLanguage","checkingGroup","setCheckingGroup","useState","useEffect","check","session","fetchAuthSession","idPayload","tokens","idToken","payload","groups","includes","replace","ProtectedRoute","div","className","p","AppointmentCalendar","cases","onCaseClick","language","currentMonth","setCurrentMonth","Date","selectedDate","setSelectedDate","getToday","today","getFullYear","getMonth","getDate","datesWithAppointments","dates","Set","forEach","caseData","appointments","appointment","scheduledStart","meetingStatus","date","add","toDateString","Array","from","map","dateStr","hasAppointments","some","d","getFirstDayOfMonth","firstDay","getDay","getDaysInMonth","isToday","isSelected","handleDateClick","selectedCases","getCasesForDate","result","casesOnDate","hasAppointmentOnDate","id","has","push","h2","button","onClick","handlePrevMonth","span","getMonthYearString","toLocaleDateString","month","year","handleNextMonth","getDayHeaders","locale","dayHeaders","baseDate","i","setDate","dayName","weekday","substring","toUpperCase","day","idx","getDaysArray","days","daysInMonth","daysInPrevMonth","isCurrentMonth","dateObj","remaining","length","dayInfo","hasAppt","isCurrentDay","isSelectedDay","bgColor","borderColor","CaseList","viewMode","DoctorPanel","httpService","HttpService","getInstance","setCases","loading","setLoading","selectedCase","setSelectedCase","isModalOpen","setIsModalOpen","loadCases","React","response","getWorkInProcessCases","handleCaseClick","selectedCaseData","find","c","toString","caseId","todayCases","getTodayCases","setHours","tomorrow","hasAppointmentToday","appointmentDate","upcomingCases","getUpcomingCases","now","hasFutureAppointment","Modal","isOpen","onClose","handleCloseModal","title","size","CaseDetails","onUpdated","handleCaseUpdated","updated","prev","findIndex","String","copy","slice","DoctorPanelPage","h1"],"sourceRoot":"","ignoreList":[]}