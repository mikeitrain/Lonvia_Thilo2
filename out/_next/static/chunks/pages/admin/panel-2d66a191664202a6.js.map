{"version":3,"file":"static/chunks/pages/admin/panel-2d66a191664202a6.js","mappings":"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","sources":["webpack://_N_E/?aee5","webpack://_N_E/./src/components/common/AdminRoute.tsx","webpack://_N_E/./src/pages/admin/panel.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/panel\",\n      function () {\n        return require(\"private-next-pages/admin/panel.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/admin/panel\"])\n      });\n    }\n  ","'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport { fetchAuthSession } from 'aws-amplify/auth';\nimport { ProtectedRoute } from '@/components/common/ProtectedRoute';\n\ninterface AdminRouteProps {\n  children: React.ReactNode;\n}\n\nexport const AdminRoute: React.FC<AdminRouteProps> = ({ children }) => {\n  const router = useRouter();\n  const { t } = useLanguage();\n  const [checkingGroup, setCheckingGroup] = useState(true);\n\n  useEffect(() => {\n    const check = async () => {\n      try {\n        const session = await fetchAuthSession();\n        const idPayload = session.tokens?.idToken?.payload as Record<string, unknown> | undefined;\n        const groups = (idPayload?.['cognito:groups'] as string[] | undefined) || [];\n        if (!groups.includes('admin')) {\n          router.replace('/user/profile');\n          return;\n        }\n      } finally {\n        setCheckingGroup(false);\n      }\n    };\n    check();\n  }, [router]);\n\n  return (\n    <ProtectedRoute>\n      {checkingGroup ? (\n        <div className=\"min-h-screen flex items-center justify-center bg-background-secondary\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n            <p className=\"text-body\">{t('common.loading')}</p>\n          </div>\n        </div>\n      ) : (\n        <>{children}</>\n      )}\n    </ProtectedRoute>\n  );\n};\n\n\n"," 'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { AdminRoute } from '@/components/common/AdminRoute';\nimport CaseList from '@/components/case/case-list';\nimport Modal from '@/components/common/Modal';\nimport { CaseDetails } from '@/components/case/case-details';\nimport { HttpService } from '@/services/httpService';\nimport { Case, CaseListPaginatedResponse } from '@/types/case';\nimport { CASE_STATUS, CaseStatus } from '@/types/status';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport { StatusUtils } from '@/lib/statusUtils';\nimport { DoctorProfile } from '@/types/doctor';\n// no direct auth calls here; AdminRoute handles access control\n\nexport default function AdminPanelPage() {\n  const { t } = useLanguage();\n  const [workInProcess, setWorkInProcess] = useState<Case[]>([]);\n  const [waitingForUser, setWaitingForUser] = useState<Case[]>([]);\n  const [arranged, setArranged] = useState<Case[] | null>(null);\n  const [inConsultation, setInConsultation] = useState<Case[] | null>(null);\n  const [declined, setDeclined] = useState<Case[] | null>(null);\n  const [finished, setFinished] = useState<Case[] | null>(null);\n  const [initializing, setInitializing] = useState(true);\n  const [selectedCase, setSelectedCase] = useState<Case | null>(null);\n  const [doctors, setDoctors] = useState<DoctorProfile[]>([]);\n\n  useEffect(() => {\n    const init = async () => {\n      try {\n        const http = HttpService.getInstance();\n        const [wipRes, wfuRes, doctorsRes] = await Promise.all([\n          http.getWorkInProcessCases(),\n          http.getWaitingForUserCases(),\n          http.getAllDoctors({ isActive: true }),\n        ]);\n        setWorkInProcess(wipRes.cases || []);\n        setWaitingForUser(wfuRes.cases || []);\n        setDoctors(doctorsRes.doctors || []);\n      } finally {\n        setInitializing(false);\n      }\n    };\n    init();\n  }, []);\n\n  const loadByStatus = async (status: CaseStatus, setter: (cases: Case[]) => void) => {\n    const http = HttpService.getInstance();\n    const res: CaseListPaginatedResponse = await http.getCasesByStatus([status]);\n    setter(res.cases || []);\n  };\n\n  const insertOrReplace = (list: Case[], updated: Case): Case[] => {\n    const id = updated.id;\n    if (id == null) return list;\n    const idx = list.findIndex(c => String(c.id||'') === String(id));\n    if (idx === -1) return [updated, ...list];\n    const copy = list.slice();\n    copy[idx] = updated;\n    return copy;\n  };\n\n  const removeFromList = (list: Case[], updated: Case): Case[] => list.filter(c => String(c.id||'') !== String(updated.id||''));\n\n  const mapStatusToListKey = (status: CaseStatus | null): 'workInProcess' | 'waitingForUser' | 'arranged' | 'inConsultation' | 'declined' | 'finished' | null => {\n    switch (status) {\n      case CASE_STATUS.NEW:\n      case CASE_STATUS.PAID:\n        return 'workInProcess';\n      case CASE_STATUS.OFFER_SENT:\n      case CASE_STATUS.WAITING_FOR_PAYMENT:\n      case CASE_STATUS.TIMESLOTS_SENT:\n        return 'waitingForUser';\n      case CASE_STATUS.ARRANGED:\n        return 'arranged';\n      case CASE_STATUS.IN_CONSULTATION:\n        return 'inConsultation';\n      case CASE_STATUS.DECLINED:\n        return 'declined';\n      case CASE_STATUS.FINISHED:\n        return 'finished';\n      default:\n        return null;\n    }\n  };\n\n  const handleCaseUpdated = (updated: Case) => {\n    setSelectedCase(updated);\n    const status = StatusUtils.toCaseStatus(updated.status?.name || '');\n    const target = mapStatusToListKey(status);\n\n    // Remove from all lists first\n    setWorkInProcess(prev => removeFromList(prev, updated));\n    setWaitingForUser(prev => removeFromList(prev, updated));\n    setArranged(prev => (prev ? removeFromList(prev, updated) : prev));\n    setInConsultation(prev => (prev ? removeFromList(prev, updated) : prev));\n    setDeclined(prev => (prev ? removeFromList(prev, updated) : prev));\n    setFinished(prev => (prev ? removeFromList(prev, updated) : prev));\n\n    // Add to the appropriate list\n    if (target === 'workInProcess') {\n      setWorkInProcess(prev => insertOrReplace(prev, updated));\n    } else if (target === 'waitingForUser') {\n      setWaitingForUser(prev => insertOrReplace(prev, updated));\n    } else if (target === 'arranged') {\n      setArranged(prev => (prev ? insertOrReplace(prev, updated) : prev));\n    } else if (target === 'inConsultation') {\n      setInConsultation(prev => (prev ? insertOrReplace(prev, updated) : prev));\n    } else if (target === 'declined') {\n      setDeclined(prev => (prev ? insertOrReplace(prev, updated) : prev));\n    } else if (target === 'finished') {\n      setFinished(prev => (prev ? insertOrReplace(prev, updated) : prev));\n    }\n  };\n\n  if (initializing) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n      </div>\n    );\n  }\n\n  return (\n    <AdminRoute>\n      <div className=\"max-w-6xl mx-auto px-4 py-8 space-y-8\">\n        <h1 className=\"text-3xl font-bold\">{t('admin.panel.title')}</h1>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-3\">{t('admin.panel.workInProcess')}</h2>\n          <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n            <CaseList cases={workInProcess} onCaseClick={(id) => {\n              const found = workInProcess.find(c => String(c.id||'') === String(id));\n              if (found) setSelectedCase(found);\n            }} />\n          </div>\n        </section>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-3\">{t('admin.panel.waitingForUser')}</h2>\n          <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n            <CaseList cases={waitingForUser} onCaseClick={(id) => {\n              const found = waitingForUser.find(c => String(c.id||'') === String(id));\n              if (found) setSelectedCase(found);\n            }} />\n          </div>\n        </section>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-4\">{t('admin.panel.arranged')}</h2>\n          {arranged === null ? (\n            <div className=\"flex justify-center\">\n              <button\n                className=\"bg-primary-600 text-white px-5 py-2 rounded-md font-medium hover:bg-primary-700\"\n                onClick={() => loadByStatus(CASE_STATUS.ARRANGED, (c) => setArranged(c))}\n              >\n                {t('admin.panel.loadCases')}\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n              <CaseList cases={arranged} onCaseClick={(id) => {\n                const found = arranged?.find(c => String(c.id||'') === String(id));\n                if (found) setSelectedCase(found);\n              }} />\n            </div>\n          )}\n        </section>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-4\">{t('admin.panel.inConsultation')}</h2>\n          {inConsultation === null ? (\n            <div className=\"flex justify-center\">\n              <button\n                className=\"bg-primary-600 text-white px-5 py-2 rounded-md font-medium hover:bg-primary-700\"\n                onClick={() => loadByStatus(CASE_STATUS.IN_CONSULTATION, (c) => setInConsultation(c))}\n              >\n                {t('admin.panel.loadCases')}\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n              <CaseList cases={inConsultation} onCaseClick={(id) => {\n                const found = inConsultation?.find(c => String(c.id||'') === String(id));\n                if (found) setSelectedCase(found);\n              }} />\n            </div>\n          )}\n        </section>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-4\">{t('admin.panel.declined')}</h2>\n          {declined === null ? (\n            <div className=\"flex justify-center\">\n              <button\n                className=\"bg-primary-600 text-white px-5 py-2 rounded-md font-medium hover:bg-primary-700\"\n                onClick={() => loadByStatus(CASE_STATUS.DECLINED, (c) => setDeclined(c))}\n              >\n                {t('admin.panel.loadCases')}\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n              <CaseList cases={declined} onCaseClick={(id) => {\n                const found = declined?.find(c => String(c.id||'') === String(id));\n                if (found) setSelectedCase(found);\n              }} />\n            </div>\n          )}\n        </section>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-4\">{t('admin.panel.finished')}</h2>\n          {finished === null ? (\n            <div className=\"flex justify-center\">\n              <button\n                className=\"bg-primary-600 text-white px-5 py-2 rounded-md font-medium hover:bg-primary-700\"\n                onClick={() => loadByStatus(CASE_STATUS.FINISHED, (c) => setFinished(c))}\n              >\n                {t('admin.panel.loadCases')}\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n              <CaseList cases={finished} onCaseClick={(id) => {\n                const found = finished?.find(c => String(c.id||'') === String(id));\n                if (found) setSelectedCase(found);\n              }} />\n            </div>\n          )}\n        </section>\n      </div>\n      {/* Case details modal */}\n      <Modal\n        isOpen={selectedCase !== null}\n        onClose={() => setSelectedCase(null)}\n        size=\"xl\"\n        title={selectedCase ? `${t('case.overview.title')} #${selectedCase.id}` : undefined}\n      >\n        {selectedCase ? (\n          <CaseDetails caseData={selectedCase as Case} doctors={doctors} onUpdated={handleCaseUpdated} />\n        ) : null}\n      </Modal>\n    </AdminRoute>\n  );\n}\n\n"],"names":["AdminRoute","children","router","useRouter","t","useLanguage","checkingGroup","setCheckingGroup","useState","useEffect","check","session","fetchAuthSession","idPayload","tokens","idToken","payload","groups","includes","replace","ProtectedRoute","div","className","p","AdminPanelPage","workInProcess","setWorkInProcess","waitingForUser","setWaitingForUser","arranged","setArranged","inConsultation","setInConsultation","declined","setDeclined","finished","setFinished","initializing","setInitializing","selectedCase","setSelectedCase","doctors","setDoctors","init","http","HttpService","getInstance","wipRes","wfuRes","doctorsRes","Promise","all","getWorkInProcessCases","getWaitingForUserCases","getAllDoctors","isActive","cases","loadByStatus","status","setter","res","getCasesByStatus","insertOrReplace","list","updated","id","idx","findIndex","c","String","copy","slice","removeFromList","filter","mapStatusToListKey","CASE_STATUS","NEW","PAID","OFFER_SENT","WAITING_FOR_PAYMENT","TIMESLOTS_SENT","ARRANGED","IN_CONSULTATION","DECLINED","FINISHED","h1","section","h2","CaseList","onCaseClick","found","find","button","onClick","Modal","isOpen","onClose","size","title","undefined","CaseDetails","caseData","onUpdated","handleCaseUpdated","target","StatusUtils","toCaseStatus","name","prev"],"sourceRoot":"","ignoreList":[]}